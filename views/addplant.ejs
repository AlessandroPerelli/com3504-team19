<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script
      src="https://kit.fontawesome.com/8adee5f06e.js"
      crossorigin="anonymous"
    ></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/stylesheets/main.css" />
    <title>Main</title>
  </head>
  <body>
    <% include components/navbar.ejs %>
    <div class="add-plant-container">
      <h1>Add Plant</h1>
      <form id="add-plant">
        <div class="add-plant-form-container">
          <div class="image-container">
            <input type="file" class="image-file" id="imageFile" name="img" style="display: none;" required  />
            <label for="imageFile" class="image-label">Drag and drop or click here to upload an image</label>
            <img id="imagePreview" class="image-preview" src="" alt="Image Preview" style="display: none;" />
          </div>
          <div class="item">
            <label for="plantName">Plant name</label>
            <input
              type="text"
              id="plantName"
              name="name"
              placeholder="Enter the plant name"
            />
          </div>
          <div class="item">
            <label for="location" class="plant-location">Location</label>
            <input
              type="text"
              id="location"
              name="location"
              placeholder="Enter the plant location"
              required 
            />
          </div>
          <div class="times">
            <div class="item">
              <label for="time" class="plant-time">Current Time</label>
              <input
                type="datetime"
                id="time"
                name="time"
                value="<%= dateTime %>"
                readonly
              />
            </div>
            <div class="item">
              <label for="sighttime" class="plant-sighttime">Sight time</label>
              <input
                type="datetime-local"
                id="sighttime"
                name="sight_time"
                required 
              >
              </input>
            </div>
          </div>
          <div class="item">
            <label for="plantDescription" class="plant-description"
              >Description</label
            >
            <textarea
              id="plantDescription"
              name="desc"
              placeholder="Enter the plant description"
              required 
            ></textarea>
          </div>
          <h3>Characteristics</h3>
          <div class="checkbox-items">
            <div class="item">
              <label for="flowers" class="plant-flowers">Has flowers?</label>
              <input type="checkbox" id="flowers" name="does_the_plant_have_flowers"  />
            </div>
            <div class="item">
              <label for="leaves" class="plant-leaves">Has leaves?</label>
              <input type="checkbox" id="leaves" name="does_the_plant_have_leaves"  />
            </div>
            <div class="item">
              <label for="fruit" class="plant-fruit">Has fruit?</label>
              <input type="checkbox" id="fruit" name="does_the_plant_have_fruit"  />
            </div>
          </div>
          <h3>Sunlight Conditions</h3>
          <div class="checkbox-items">
            <div class="item">
              <label for="full-sunlight" class="plant-full-sunlight">Needs full sunlight exposure?</label>
              <input type="checkbox" id="full-sunlight" class="sunlight-option" name="full_sun" onclick="toggleExclusiveCheckboxes(this)"  />
            </div>
            <div class="item">
              <label for="partial-shade" class="plant-shade">Needs to have partial shade?</label>
              <input type="checkbox" id="partial-shade" class="sunlight-option" name="partial_shade" onclick="toggleExclusiveCheckboxes(this)"  />
            </div>
            <div class="item">
              <label for="full-shade" class="plant-full-shade">Needs full shade?</label>
              <input type="checkbox" id="full-shade" class="sunlight-option" name="full_shade" onclick="toggleExclusiveCheckboxes(this)"  />
            </div>
          </div>
          <h3>Plant Type</h3>
          <div class="checkbox-items">
            <div class="item">
              <label for="evergreen" class="plant-evergreen">Is the plant an evergreen?</label>
              <input type="checkbox" id="evergreen" name="evergreen"  />
            </div>
            <div class="item">
              <label for="succulent" class="plant-succulent">Is the plant a succulent?</label>
              <input type="checkbox" id="succulent" name="succulent"  />
            </div>
            <div class="item">
              <label for="forest" class="plant-forest">Is the plant in a forest?</label>
              <input type="checkbox" id="forest" name="forest"  />
            </div>
          </div>
          <div class="item">
            <label for="colour" class="plant-colour">What colour is the plant?</label>
            <input type="text" id="colour" name="colour" />
          </div>
          <div class="dimensions">
            <div class="item">
              <label for="height" class="plant-height">Enter the plant height (cm)</label>
              <input type="number" id="height" name="height" required  />
            </div>
            <div class="item">
              <label for="spread" class="plant-spread">Enter the plant spread (cm)</label>
              <input type="number" id="spread" name="spread" required />
            </div>
          </div>
          <div class="is-identified">
            <div class="item">
              <label for="identification" class="identification"> Is the name of this plant confirmed? </label>
              <input type="checkbox" id="identification_check" name="identification_check"  />
            </div>
          </div>
            <div class="item" id="user-nickname-container">
              <label for="user-nickname" class="user-nickname" id="user-nickname-label"> Nickname</label>
              <input type="text" id="user-nickname" name="user_nickname" />
            </div>            
            <div class="item">
              <button id="submit-button" type="submit" class="add-button">Upload</button>
            </div>
          </div>
          </div>
        </div>
      </form>
    </div>
    <script src="/javascripts/insert.js"></script>
    <script src="/javascripts/idb-utility.js"></script>
    <script src="/javascripts/addPlant.js"></script>
    <script src="/javascripts/plantUtilities.js"></script>
    <script src="/javascripts/imageUpload.js"></script>
  </body>
</html>